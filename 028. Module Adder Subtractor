/*
Developer   - Sriram Venkata Krishna
Date        - 05-09-2025
Platform    - HDL Bits
*/

//028. Module Adder Subtractor

module top_module
    (
    	input [31:0] a, b,
        input sub,
    	output [31:0] sum
	);
    
    wire carry;
    wire [31:0] value, sub_32;
    
    assign sub_32 = {{32{sub}}};
    
    always @(*) begin
        case(sub)
            1'b0 : value[31:0] = b[31:0];
            1'b1 : value[31:0] = (b[31:0] ^ sub_32);
        endcase
    end
    
    add16 instance_1(.a(a[15:0]), .b(value[15:0]), .cin(sub), .sum(sum[15:0]), .cout(carry));
    add16 instance_2(.a(a[31:16]), .b(value[31:16]), .cin(carry), .sum(sum[31:16]));

endmodule
